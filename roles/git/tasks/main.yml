---

- name: Add Github to known hosts

  lineinfile:
    path: "{{ home_directory }}/.ssh/known_hosts"
    create: true
    state: present
    regexp: "^github\\.com"
    line: "{{ lookup('pipe', 'ssh-keyscan -t rsa github.com') }}"

- name: Clone repository

  git:
    dest: "{{ repository_path }}"
    repo: "{{ repository_url }}"
    version: "{{ git_version }}"
